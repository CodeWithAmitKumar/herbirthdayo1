<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Ipsita | A Digital Love Letter</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400;1,600&family=Montserrat:wght@200;300;400;500;600&family=Sacramento&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Iconify -->
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --neon-blush: #FF6F91;
            --electric-lilac: #9B5DE5;
            --deep-night: #050508;
            --gold: #FFD166;
        }
        
        body {
            background-color: var(--deep-night);
            font-family: 'Montserrat', sans-serif;
            overflow-x: hidden;
            cursor: none;
            color: #ffffff;
        }

        /* Film Grain Texture */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }

        h1, h2, h3, .serif {
            font-family: 'Cormorant Garamond', serif;
        }

        .handwritten {
            font-family: 'Sacramento', cursive;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #050508;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(to bottom, #FF6F91, #9B5DE5);
            border-radius: 10px;
        }

        /* Text Gradients */
        .text-gradient {
            background: linear-gradient(135deg, #FF6F91, #e8a2a2, #9B5DE5);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: gradientMove 6s ease-in-out infinite alternate;
        }

        .text-gold {
            background: linear-gradient(135deg, #FFD166, #FFF, #FFD166);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        /* Premium Glassmorphism */
        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .glass-card:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 111, 145, 0.3);
            box-shadow: 0 0 40px rgba(255, 111, 145, 0.15);
        }

        /* Custom Cursor */
        .cursor-dot {
            position: fixed;
            width: 8px;
            height: 8px;
            background-color: #FF6F91;
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
            mix-blend-mode: exclusion;
        }
        .cursor-outline {
            position: fixed;
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            z-index: 9998;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background-color 0.3s;
            mix-blend-mode: exclusion;
        }
        body:hover .cursor-outline {
            width: 60px;
            height: 60px;
        }

        /* Utility */
        .mask-linear-fade {
            mask-image: linear-gradient(to bottom, black 0%, black 70%, transparent 100%);
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .animate-float {
            animation: float 6s ease-in-out infinite;
        }
        
        .gallery-column {
            will-change: transform;
        }
    </style>
</head>
<body class="selection:bg-[#FF6F91] selection:text-white"
      x-data="appData()"
      x-init="initApp()">

    <!-- Noise Texture -->
    <div class="noise-overlay"></div>

    <!-- Custom Cursor -->
    <div class="cursor-dot hidden md:block" id="cursor-dot"></div>
    <div class="cursor-outline hidden md:block" id="cursor-outline"></div>

    <!-- Audio Player -->
    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <!-- Canvas Background (Subtle Stars) -->
    <canvas id="stars" class="fixed inset-0 w-full h-full pointer-events-none z-0 opacity-60"></canvas>

    <!-- Floating Navigation -->
    <nav class="fixed top-0 w-full z-40 px-6 py-6 flex justify-between items-start mix-blend-difference">
        <div class="text-xs font-bold tracking-[0.3em] uppercase opacity-80">
            For Ipsita
        </div>
        <button @click="toggleMusic()" class="group relative flex items-center gap-3">
            <span class="text-[10px] tracking-widest uppercase opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <span x-text="musicPlaying ? 'Pause Moment' : 'Play Music'"></span>
            </span>
            <div class="w-10 h-10 rounded-full border border-white/20 flex items-center justify-center bg-white/5 backdrop-blur-md group-hover:bg-white/10 transition-all">
                <div class="flex gap-0.5 h-3 items-end" x-show="musicPlaying">
                    <span class="w-0.5 bg-[#FF6F91] animate-[bounce_1s_infinite]"></span>
                    <span class="w-0.5 bg-[#FF6F91] animate-[bounce_1.5s_infinite]"></span>
                    <span class="w-0.5 bg-[#FF6F91] animate-[bounce_0.8s_infinite]"></span>
                </div>
                <iconify-icon x-show="!musicPlaying" icon="solar:play-linear" class="text-white"></iconify-icon>
            </div>
        </button>
    </nav>

    <!-- 1. CINEMATIC HERO -->
    <section class="relative h-screen w-full flex items-center justify-center overflow-hidden">
        <!-- Background Gradient Mesh -->
        <div class="absolute inset-0 z-0">
            <div class="absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-[#FF6F91] rounded-full blur-[120px] opacity-20 animate-float"></div>
            <div class="absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-[#9B5DE5] rounded-full blur-[120px] opacity-20 animate-float" style="animation-delay: 2s"></div>
        </div>

        <div class="relative z-10 text-center px-6">
            <div class="overflow-hidden mb-6">
                <div class="hero-reveal text-[#FF6F91] text-xs font-semibold tracking-[0.4em] uppercase opacity-0 translate-y-full flex items-center justify-center gap-4">
                    <span class="w-12 h-px bg-gradient-to-r from-transparent to-[#FF6F91]"></span>
                    It‚Äôs Your Special Day
                    <span class="w-12 h-px bg-gradient-to-l from-transparent to-[#FF6F91]"></span>
                </div>
            </div>
            
            <h1 class="hero-reveal opacity-0 translate-y-full">
                <span class="block text-5xl md:text-8xl lg:text-9xl font-light tracking-tighter mb-2 leading-[0.9]">Happy Birthday</span>
                <span class="block serif italic text-gradient text-6xl md:text-9xl lg:text-[10rem] leading-[0.8] pb-4">Ipsita</span>
            </h1>
            
            <div class="hero-reveal opacity-0 translate-y-full mt-8 max-w-lg mx-auto">
                <p class="text-[#CFCFEA]/80 text-sm md:text-lg font-light leading-relaxed">
                    Some people search their whole lives to find what I found in you.
                </p>
            </div>

            <div class="hero-reveal opacity-0 mt-16 flex justify-center">
                <button @click="scrollToNext()" class="flex flex-col items-center gap-2 text-white/30 hover:text-white transition-colors duration-500">
                    <span class="text-[10px] uppercase tracking-widest">Begin</span>
                    <iconify-icon icon="solar:mouse-minimalistic-linear" class="text-2xl animate-bounce"></iconify-icon>
                </button>
            </div>
        </div>
    </section>

    <!-- 2. MOVING GALLERY (PARALLAX) -->
    <section class="py-24 relative overflow-hidden bg-black/20" id="next-section">
        <div class="absolute inset-0 bg-gradient-to-b from-[#050508] via-transparent to-[#050508] z-20 pointer-events-none"></div>
        
        <div class="text-center mb-16 relative z-30">
            <h2 class="text-3xl md:text-5xl font-light">Captured <span class="serif italic text-[#FF6F91]">Moments</span></h2>
        </div>

        <!-- Rotated Container -->
        <div class="flex justify-center gap-6 h-[600px] md:h-[800px] overflow-hidden -rotate-2 scale-110 opacity-60 hover:opacity-100 transition-opacity duration-700 grayscale hover:grayscale-0">
            <!-- Column 1 (Up) -->
            <div class="gallery-column flex flex-col gap-6 w-1/3 md:w-1/4 -mt-24" data-speed="0.3">
                <img src="image/img12.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/hero.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/img6.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
            </div>
            <!-- Column 2 (Down) -->
            <div class="gallery-column flex flex-col gap-6 w-1/3 md:w-1/4" data-speed="-0.3">
                <img src="image/img4.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/img9.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/img123.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
            </div>
            <!-- Column 3 (Up - Hidden on mobile) -->
            <div class="gallery-column hidden md:flex flex-col gap-6 w-1/4 -mt-48" data-speed="0.5">
                <img src="image/66.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/60.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
                <img src="image/55.jpg" class="rounded-lg object-cover w-full h-64 md:h-80 opacity-80" alt="Memory">
            </div>
        </div>
    </section>

    <!-- 3. BENTO GRID - WHY HER -->
    <section class="py-32 px-6 relative z-10">
        <div class="max-w-6xl mx-auto">
            <div class="flex flex-col items-center text-center mb-16">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full border border-white/10 bg-white/5 backdrop-blur mb-6">
                    <span class="w-1.5 h-1.5 rounded-full bg-[#FF6F91] animate-pulse"></span>
                    <span class="text-[10px] tracking-widest uppercase">Reasons I Adore You</span>
                </div>
                <h2 class="text-4xl md:text-6xl font-light tracking-tight">
                    The Art of Being <span class="serif italic text-[#9B5DE5]">You</span>
                </h2>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-12 md:grid-rows-2 gap-6 h-auto md:h-[600px]">
                
                <!-- Main Feature -->
                <div class="md:col-span-8 md:row-span-2 glass-card rounded-[2rem] p-10 relative overflow-hidden group feature-card opacity-0 translate-y-10">
                    <div class="absolute inset-0 bg-[url('image/main.jpg')] bg-cover bg-center opacity-50 group-hover:scale-105 transition-transform duration-700"></div>
                    <div class="absolute inset-0 bg-gradient-to-t from-[#050508] via-[#050508]/60 to-transparent"></div>
                    <div class="absolute top-0 right-0 w-[300px] h-[300px] bg-gradient-to-b from-[#FF6F91]/20 to-transparent blur-[80px] rounded-full pointer-events-none"></div>
                    
                    <div class="h-full flex flex-col justify-between relative z-10">
                        <div class="flex justify-between items-start">
                            <iconify-icon icon="solar:heart-angle-bold" class="text-4xl text-[#FF6F91]"></iconify-icon>
                            <span class="text-xs font-mono text-white/30">01</span>
                        </div>
                        <div>
                            <h3 class="text-4xl md:text-5xl font-serif mb-6 leading-tight">Your Infinite <br><span class="italic text-[#FF6F91]">Kindness</span></h3>
                            <p class="text-[#CFCFEA] font-light text-lg leading-relaxed max-w-lg">
                                In a world that can be harsh, your gentle soul is my safe haven. The way you care for others without expecting anything in return inspires me every single day.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Secondary Feature -->
                <div class="md:col-span-4 md:row-span-1 glass-card rounded-[2rem] p-8 relative overflow-hidden group feature-card opacity-0 translate-y-10">
                    <div class="absolute inset-0 bg-[url('image/88.jpg')] bg-cover bg-center opacity-40 group-hover:scale-105 transition-transform duration-700"></div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                    <div class="relative z-10 h-full flex flex-col justify-end">
                        <h3 class="text-2xl font-serif mb-2">Your Smile</h3>
                        <p class="text-sm text-white/70">The curve that sets everything straight.</p>
                    </div>
                </div>

                <!-- Tertiary Feature -->
                <div class="md:col-span-4 md:row-span-1 glass-card rounded-[2rem] p-8 flex flex-col justify-center items-center text-center group feature-card opacity-0 translate-y-10">
                    <div class="w-16 h-16 rounded-full bg-[#9B5DE5]/10 flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                        <iconify-icon icon="solar:stars-minimalistic-bold" class="text-3xl text-[#9B5DE5]"></iconify-icon>
                    </div>
                    <h3 class="text-xl font-serif">Your Magic</h3>
                    <p class="text-xs text-white/50 mt-2 uppercase tracking-widest">Unmatched</p>
                </div>

            </div>
        </div>
    </section>

    <!-- 4. ROMANTIC LETTER (Typewriter) -->
    <section class="py-32 px-6 min-h-screen flex items-center justify-center relative bg-[#050508]">
        <div class="absolute inset-0 opacity-20 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-[#FF6F91]/20 via-[#050508] to-[#050508]"></div>
        
        <div class="max-w-3xl w-full relative z-10">
            <!-- Wax Seal Aesthetic -->
            <div class="absolute -top-6 left-1/2 -translate-x-1/2 z-20">
                <div class="w-16 h-16 bg-[#FF6F91] rounded-full shadow-[0_4px_20px_rgba(255,111,145,0.4)] flex items-center justify-center border-4 border-[#050508]">
                    <iconify-icon icon="solar:heart-bold" class="text-2xl text-[#050508]"></iconify-icon>
                </div>
            </div>

            <div class="glass-card p-8 md:p-16 rounded-3xl border border-white/5 relative overflow-hidden">
                <div class="font-serif text-xl md:text-3xl leading-loose text-[#CFCFEA] opacity-90 text-center md:text-left" id="typewriter-container">
                    <!-- Text injected via JS -->
                </div>
                
                <div class="mt-12 flex justify-end opacity-0 transition-opacity duration-1000" id="signature">
                    <div class="text-right">
                        <p class="text-xs uppercase tracking-widest text-white/40 mb-2">Yours Always,</p>
                        <p class="handwritten text-5xl text-[#FF6F91] transform -rotate-3">Amit</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 5. THE LOCK (Interactive) -->
    <section class="py-32 px-6 text-center relative z-10 pb-48">
        <div class="max-w-xl mx-auto">
            <div class="mb-12">
                <span class="text-[#FFD166] text-5xl block mb-4 animate-float">‚ú®</span>
                <h2 class="text-3xl md:text-5xl font-light mb-6">One Last Question...</h2>
                <p class="text-white/50 font-light text-lg">My heart has been keeping a secret. <br>Unlock it to see what lies within.</p>
            </div>
            
            <!-- UNLOCK MECHANISM -->
            <div class="relative flex justify-center items-center h-48 select-none">
                <div class="relative w-32 h-32">
                    <!-- SVG Ring -->
                    <svg class="w-full h-full transform -rotate-90 drop-shadow-[0_0_15px_rgba(255,111,145,0.3)]" viewBox="0 0 100 100">
                        <circle cx="50" cy="50" r="46" fill="transparent" stroke="rgba(255,255,255,0.05)" stroke-width="2" />
                        <circle cx="50" cy="50" r="46" fill="transparent" stroke="#FF6F91" stroke-width="3" 
                                stroke-dasharray="289" 
                                :stroke-dashoffset="289 - (unlockProgress * 2.89)" 
                                class="transition-all duration-75 ease-linear"
                                stroke-linecap="round" />
                    </svg>

                    <!-- The Button -->
                    <button 
                        @mousedown="startUnlock" 
                        @touchstart.prevent="startUnlock" 
                        @mouseup="cancelUnlock" 
                        @mouseleave="cancelUnlock" 
                        @touchend="cancelUnlock"
                        class="absolute inset-2 rounded-full bg-gradient-to-br from-[#FF6F91]/20 to-[#9B5DE5]/20 flex items-center justify-center transition-all duration-300 hover:scale-105 active:scale-95 group backdrop-blur-sm border border-white/10 z-10">
                        
                        <iconify-icon icon="solar:fingerprint-scan-linear" class="text-4xl text-white/80 group-hover:text-[#FF6F91] transition-colors"></iconify-icon>
                        
                        <!-- Pulse Effect -->
                        <div class="absolute inset-0 rounded-full bg-[#FF6F91]/20 animate-ping opacity-0 group-hover:opacity-100" x-show="!holding"></div>
                    </button>
                </div>
                
                <p class="absolute -bottom-4 text-[10px] text-white/30 tracking-[0.3em] uppercase transition-opacity" :class="holding ? 'opacity-0' : 'opacity-100'">
                    Hold to Unlock
                </p>
            </div>
        </div>

        <footer class="mt-32 pt-8 border-t border-white/5 text-center">
             <div class="flex justify-center items-center gap-2 text-white/20 text-xs tracking-widest hover:text-[#FF6F91] transition-colors duration-300">
                <iconify-icon icon="solar:code-circle-linear"></iconify-icon>
                MADE FOR IPSITA WITH LOVE
            </div>
        </footer>
    </section>

    <!-- 6. SECRET PROPOSAL OVERLAY -->
    <div x-show="secretUnlocked" 
         x-transition:enter="transition ease-out duration-1000"
         x-transition:enter-start="opacity-0 scale-95"
         x-transition:enter-end="opacity-100 scale-100"
         class="fixed inset-0 z-[100] bg-[#050508]/95 backdrop-blur-xl flex flex-col items-center justify-center text-center p-6 overflow-hidden">
         
         <!-- Background Effects -->
         <div class="absolute inset-0 overflow-hidden pointer-events-none">
             <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-gradient-to-r from-[#FF6F91] to-[#9B5DE5] rounded-full blur-[150px] opacity-20 animate-pulse"></div>
         </div>

         <!-- Content -->
         <div class="relative z-10 max-w-4xl w-full" x-show="!videoPlaying">
             <div class="mb-8">
                 <div class="inline-block p-4 rounded-full border border-[#FFD166]/30 bg-[#FFD166]/10 mb-6 animate-float">
                     <iconify-icon icon="solar:crown-star-bold" class="text-4xl text-[#FFD166]"></iconify-icon>
                 </div>
                 <h2 class="text-6xl md:text-8xl font-serif text-white mb-6 leading-none">Ipsita...</h2>
                 <p class="text-xl md:text-2xl text-[#CFCFEA] font-light leading-relaxed max-w-2xl mx-auto">
                    I don‚Äôt know what the future holds,<br> but I know it's brighter with you.
                 </p>
             </div>
             
             <div class="py-8 my-8 border-y border-white/10 max-w-lg mx-auto space-y-3">
                 <p class="text-lg font-light text-white/80">I promise to be your calm in the chaos.</p>
                 <p class="text-lg font-light text-white/80">I promise to love you, loudly and quietly.</p>
             </div>

             <h3 class="text-3xl md:text-5xl font-serif text-[#FF6F91] mt-8 mb-12">Will you be mine forever? üíç</h3>

             <div class="flex flex-col md:flex-row gap-6 justify-center items-center relative h-32">
                 <button @click="sayYes()" class="group relative px-10 py-4 bg-white text-black rounded-full text-lg font-medium tracking-wide overflow-hidden transition-transform hover:scale-105 shadow-[0_0_40px_rgba(255,255,255,0.3)] z-20">
                     <span class="relative z-10 flex items-center gap-2">
                         YES, I Will! <iconify-icon icon="solar:heart-bold" class="text-[#FF6F91]"></iconify-icon>
                     </span>
                 </button>
                 
                 <!-- Runaway Button -->
                 <button id="no-btn" class="px-10 py-4 border border-white/20 text-white/40 rounded-full text-lg font-medium tracking-wide transition-all absolute hover:bg-white/5" 
                         style="transition: all 0.2s ease;">
                     No
                 </button>
             </div>
         </div>

         <!-- 7. FINAL VIDEO REVEAL -->
         <div x-show="videoPlaying" x-transition:enter="transition ease duration-700" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" class="absolute inset-0 bg-black z-30 flex items-center justify-center">
          <div class="w-full h-full relative">
    <button @click="videoPlaying = false" 
        class="absolute top-6 right-6 z-40 text-white/50 hover:text-white bg-black/50 hover:bg-black/80 backdrop-blur p-3 rounded-full transition-all">
        <iconify-icon icon="solar:close-circle-linear" width="32"></iconify-icon>
    </button>

    <iframe
        class="w-full h-full rounded-none"
        src="https://www.youtube.com/embed/dBdFkQXTpkE?autoplay=1&rel=0&modestbranding=1"
        title="Special Video"
        frameborder="0"
        allow="autoplay; encrypted-media; fullscreen"
        allowfullscreen>
    </iframe>

    <div class="absolute bottom-12 left-0 right-0 text-center pointer-events-none">
        <h2 class="text-4xl md:text-6xl font-serif italic text-white/90 drop-shadow-xl">
            Happy Birthday, My Love
        </h2>
    </div>
</div>

         </div>
    </div>

    <!-- Script Logic -->
    <script>
        function appData() {
            return {
                musicPlaying: false,
                audio: null,
                holding: false,
                holdStartTime: 0,
                unlockProgress: 0,
                secretUnlocked: false,
                videoPlaying: false,

                initApp() {
                    // Audio Setup
                    this.audio = document.getElementById('bg-music');
                    this.audio.volume = 0.4;

                    // Cursor Logic
                    const cursorDot = document.getElementById('cursor-dot');
                    const cursorOutline = document.getElementById('cursor-outline');
                    
                    window.addEventListener('mousemove', (e) => {
                        const posX = e.clientX;
                        const posY = e.clientY;
                        
                        cursorDot.style.left = `${posX}px`;
                        cursorDot.style.top = `${posY}px`;
                        
                        cursorOutline.animate({
                            left: `${posX}px`,
                            top: `${posY}px`
                        }, { duration: 500, fill: "forwards" });
                    });

                    // Runaway "No" Button
                    const noBtn = document.getElementById('no-btn');
                    const moveBtn = () => {
                        const x = Math.random() * (window.innerWidth - 150);
                        const y = Math.random() * (window.innerHeight - 100);
                        noBtn.style.position = 'fixed';
                        noBtn.style.left = `${Math.max(20, x)}px`;
                        noBtn.style.top = `${Math.max(20, y)}px`;
                        noBtn.style.zIndex = '50';
                    };
                    noBtn.addEventListener('mouseenter', moveBtn);
                    noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveBtn(); });

                    this.initAnimations();
                    this.initStars();
                },

                toggleMusic() {
                    if (this.musicPlaying) {
                        this.audio.pause();
                    } else {
                        this.audio.play().catch(e => console.log("Audio needs user interaction first"));
                    }
                    this.musicPlaying = !this.musicPlaying;
                },

                scrollToNext() {
                    this.toggleMusic();
                    document.getElementById('next-section').scrollIntoView({ behavior: 'smooth' });
                },

                startUnlock() {
                    this.holding = true;
                    this.holdStartTime = Date.now();
                    this.unlockProgress = 0;
                    this.progressLoop();
                },

                progressLoop() {
                    if (!this.holding) return;

                    const elapsed = Date.now() - this.holdStartTime;
                    this.unlockProgress = Math.min(100, (elapsed / 3000) * 100); // 3 seconds to unlock

                    if (this.unlockProgress >= 100) {
                        this.unlockSecret();
                    } else {
                        requestAnimationFrame(() => this.progressLoop());
                    }
                },

                cancelUnlock() {
                    this.holding = false;
                    this.unlockProgress = 0;
                },

                unlockSecret() {
                    this.secretUnlocked = true;
                    this.holding = false;
                    this.triggerConfetti();
                },

                sayYes() {
                    this.triggerConfetti();
                    // Fireworks effect
                    const duration = 3000;
                    const end = Date.now() + duration;

                    (function frame() {
                        confetti({
                            particleCount: 7,
                            angle: 60,
                            spread: 55,
                            origin: { x: 0 },
                            colors: ['#FF6F91', '#ffffff']
                        });
                        confetti({
                            particleCount: 7,
                            angle: 120,
                            spread: 55,
                            origin: { x: 1 },
                            colors: ['#9B5DE5', '#ffffff']
                        });
                        if (Date.now() < end) requestAnimationFrame(frame);
                    }());

                    setTimeout(() => {
                        this.videoPlaying = true;
                        if(this.musicPlaying) this.audio.pause();
                    }, 2000);
                },

                triggerConfetti() {
                    confetti({
                        particleCount: 150,
                        spread: 100,
                        origin: { y: 0.6 },
                        colors: ['#FF6F91', '#9B5DE5', '#FFD166']
                    });
                },

                initAnimations() {
                    gsap.registerPlugin(ScrollTrigger);

                    // Hero Text Stagger
                    gsap.to('.hero-reveal', {
                        y: 0,
                        opacity: 1,
                        duration: 1.8,
                        stagger: 0.2,
                        ease: "power3.out",
                        delay: 0.2
                    });

                    // Gallery Parallax
                    gsap.utils.toArray('.gallery-column').forEach((col, i) => {
                        const speed = col.getAttribute('data-speed');
                        gsap.to(col, {
                            y: () => (window.innerHeight * speed),
                            ease: "none",
                            scrollTrigger: {
                                trigger: "#next-section",
                                start: "top bottom",
                                end: "bottom top",
                                scrub: 1
                            }
                        });
                    });

                    // Bento Grid Stagger
                    ScrollTrigger.batch(".feature-card", {
                        onEnter: batch => gsap.to(batch, {opacity: 1, y: 0, stagger: 0.15, duration: 1.2, ease: "power4.out"}),
                        start: "top 80%"
                    });

                    // Typewriter
                    ScrollTrigger.create({
                        trigger: "#typewriter-container",
                        start: "top 70%",
                        onEnter: () => this.typeWriter()
                    });
                },

                typeWriter() {
                    const text = `My Dearest Ipsita,

From the moment our paths crossed, my world shifted on its axis. You are not just a part of my life; you are the melody that makes the silence beautiful.

I love the way you laugh, the kindness you show to strangers, and the quiet strength you carry within you. 

On this day, I celebrate you‚Äînot just for turning a year older, but for being the incredible soul that you are.`;
                    
                    const container = document.getElementById("typewriter-container");
                    const sig = document.getElementById("signature");
                    
                    if(container.innerText.length > 5) return;
                    
                    let i = 0;
                    const speed = 40; 
                    
                    function type() {
                        if (i < text.length) {
                            container.innerHTML += text.charAt(i) === '\n' ? '<br>' : text.charAt(i);
                            i++;
                            setTimeout(type, speed);
                        } else {
                            sig.style.opacity = 1;
                        }
                    }
                    type();
                },

                initStars() {
                    const canvas = document.getElementById('stars');
                    const ctx = canvas.getContext('2d');
                    let width = canvas.width = window.innerWidth;
                    let height = canvas.height = window.innerHeight;
                    
                    let stars = [];
                    for(let i = 0; i < 100; i++) {
                        stars.push({
                            x: Math.random() * width,
                            y: Math.random() * height,
                            size: Math.random() * 1.5,
                            alpha: Math.random()
                        });
                    }

                    function animate() {
                        ctx.clearRect(0, 0, width, height);
                        stars.forEach(star => {
                            ctx.fillStyle = `rgba(255, 255, 255, ${star.alpha})`;
                            ctx.beginPath();
                            ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                            ctx.fill();
                            star.alpha += (Math.random() - 0.5) * 0.02;
                            if(star.alpha < 0) star.alpha = 0;
                            if(star.alpha > 1) star.alpha = 1;
                        });
                        requestAnimationFrame(animate);
                    }
                    animate();

                    window.addEventListener('resize', () => {
                        width = canvas.width = window.innerWidth;
                        height = canvas.height = window.innerHeight;
                    });
                }
            }
        }
    </script>
</body>
</html>